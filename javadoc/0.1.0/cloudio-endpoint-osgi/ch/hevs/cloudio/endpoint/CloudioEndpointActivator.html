<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_65) on Fri Dec 18 14:33:39 CET 2015 -->
<title>CloudioEndpointActivator (cloudio-endpoint-osgi 0.1.0 API)</title>
<meta name="date" content="2015-12-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CloudioEndpointActivator (cloudio-endpoint-osgi 0.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../ch/hevs/cloudio/endpoint/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ch/hevs/cloudio/endpoint/CloudioEndpointActivator.html" target="_top">Frames</a></li>
<li><a href="CloudioEndpointActivator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.hevs.cloudio.endpoint</div>
<h2 title="Class CloudioEndpointActivator" class="title">Class CloudioEndpointActivator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ch.hevs.cloudio.endpoint.CloudioEndpointActivator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.osgi.framework.BundleActivator</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CloudioEndpointActivator</span>
extends java.lang.Object
implements org.osgi.framework.BundleActivator</pre>
<div class="block">OSGi bundle Activator that registers the cloud.iO service within the OSGi environment. Note that the service starts
 automatically and tries directly to connect to the cloud.iO broker on startup. The registered service implements
 the interface CloudioEndpointService (See documentation of cloudio-endpoint-java for details).

 One single mandatory property has to be provided by the OSGi container for the cloudio-endpoint-osgi bundle:

 <b>ch.hevs.cloudio.endpoint.uuid</b><br>
 This is the UUID that will be passed to the CloudioEndpoint initialisation. The other parameters can be either
 provided by the OSGi container or cloud.iO will search at the default locations for actual configuration files
 (see documentation of cloudio-endpoint-java for details).

 Per default, the cloud.iO endpoint loads the parameters from the bundle context, but you can change that behavior
 in order to let the endpoint load these parameters from the default file locations by changing the following
 property:
 <b>ch.hevs.cloudio.endpoint.externalConfiguration</b><br>
 If the value is "true", then the configuration is not taken from the OSGi bundle context, it is taken from the
 default file locations of cloud.iO. See the documentation of cloudio-endpoint-java for details on these file
 locations.

 The bundle or the configuration file must provide the following parameters and can provide the following obtional
 parameters:

 <br><br>
 <ul>
     <li>
         <b>ch.hevs.cloudio.endpoint.hostUri</b><br>
         URI of the cloud.io broker URI to connect to. An example might be "ssl://example.org:8883". Note that two
         schemes of connections are supported, "tcp" for non secure connections and "ssl" for secure connections.
         This property is <b>mandatory.</b>
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.connectTimeout</b><br>
         Timeout in seconds to use when trying to connect to the cloud.io message broker. The default value is <b>5
         seconds</b>.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.connectRetryInterval</b><br>
         Interval in seconds to start a reconnect try after a connect failure. The default value is <b>10 seconds</b>.
         If the value is 0, no connection retry has will be done at all once the connection is lost or could not
         be established.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.keepAliveInterval</b><br>
         Interval at which the client exchanges messages with the server in order to check that the connection is
         still alive and in order to guarantee that NAT port mappings remain. Default is <b>60 seconds</b>.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.persistence</b><br>
         This option configures which persistence to use in order to save temporary data. Three options are possible:
         <br>
         <ul>
             <li>
                 <b>memory</b><br>
                 The temporary data is saved into memory. With this option, pending messages (data) can be lost
                 if the application is restarted. It is not advisable to use this persistence implementation in
                 productive environments.
             </li>
             <li>
                 <b>file</b><br>
                 The temporary data is saved onto the file system. Using this option, pending messages (data) will
                 not be lost during a restart of the application if not a clean session is forced using the option
                 ch.hevs.cloudio.endpoint.cleanSession.
             </li>
             <li>
                 <b>none</b><br>
                 No Persistence is used at all. Using this persistence, messages (data) will be almost certain be
                 lost, but if your application can handle such losses and you want to use as less as resources as
                 possible, this might be a solution.
             </li>
         </ul>
         This property is optional and the default is <b>file</b>.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.ssl.clientCert</b><br>
         Path to the client certificate file. The certificate file must be encoded in the PKCS12 key format and it
         needs to contain the client's certificate and the client's private key. The file has additionally to be
         encrypted and protected using a password. The password to use to decrypt the file is specified using the
         property <b>ch.hevs.cloudio.endpoint.ssl.clientPassword</b>.<br>
         This property is optional and if the property is not set, the endpoint searches these locations in the
         given order for the JKCS12 file:
         <ul>
             <li>~/.config/cloud.io/{Endpoint UUID}.p12 on the local file system.</li>
             <li>/etc/cloud.io/{Endpoint UUID}.p12 on the local file system.</li>
             <li>cloud.io/{Endpoint UUID}.p12 inside the application bundle (classpath).</li>
         </ul>
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.ssl.clientPassword</b><br>
         Password to unlock the PKCS12 archive containing the endpoint's certificate and private key. The PCKS12 file
         is specified using the <b>ch.hevs.cloudio.endpoint.ssl.clientCert</b> property. Note that it is not mandatory
         to encrypt the PKCS12 files.<br>
         Optional, defaults to "" which means no password at all.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.ssl.authorityCert</b><br>
         The path to the certificate of the certification authority embedded into a JKS file.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.ssl.authorityPassword</b><br>
         Password to unlock the JKS archive containing the certification authority's certificate. The JKS file
         is specified using the <b>ch.hevs.cloudio.endpoint.ssl.authorityCert</b> property.<br>
         Optional, defaults to "" which means no password at all.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.ssl.protocol</b><br>
         Specifies the SSL protocol to use. Possible values depend on the actual SSL implementation. Most commonly
         supported are:
         <ul>
             <li>SSL</li>
             <li>SSLv2</li>
             <li>SSLv3</li>
             <li>TLS</li>
             <li>TLSv1</li>
             <li>TLSv1.1</li>
             <li>TLSv1.2</li>
         </ul>
         This property is optional and defaults to TLSv1.2.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.messageFormat</b><br>
         The message format used to communicate within cloud.io. Currently supported data formats are:
         <ul>
             <li>json: JSON Format.</li>
             <li>json+zip: Compressed JSON.</li>
         </ul>
         If this property is not set, the default "json" will be used.
         Note that it is important that all endpoints and applications in the same cloud.io installation use the very
         same message format, otherwise they will not be able to communicate with each other.
     </li>
     <li>
         <b>ch.hevs.cloudio.endpoint.cleanSession</b><br>
         This property can be either "true" or "false". If it is true, a clean MQTT session is established with the
         central broker. This means that pending messages from a previous session will be discarded. If it is "false"
         which is the default, pending messages from previous sessions will be send to the server upon the connection
         is established.
     </li>
 </ul>
 * <br><br>
 <b>Specifying resource locations:</b><br>
 When you specify a location for any configuration file or key/certificate file or any other kind of file, you need
 to use URIs to specify the file location. The following URI schemes are supported:
 <ul>
     <li>
         <b>classpath:</b><br>
         The file is located in the classpath (Either in the JAR file or inside the same OSGi Bundle).
     </li>
     <li>
         <b>file:</b>
         The file is located on the local file system. An absolute path to the file has to be given.
     </li>
     <li>
         <b>home:</b>
         The file is located in the home directory of the actual user. The given path is relative to the user's home
         directory.
     </li>
     <li>
         <b>http:</b>
         The resource (file) is located on an HTTP server.
     </li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../ch/hevs/cloudio/endpoint/CloudioEndpointActivator.html#CloudioEndpointActivator--">CloudioEndpointActivator</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/hevs/cloudio/endpoint/CloudioEndpointActivator.html#start-org.osgi.framework.BundleContext-">start</a></span>(org.osgi.framework.BundleContext&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/hevs/cloudio/endpoint/CloudioEndpointActivator.html#stop-org.osgi.framework.BundleContext-">stop</a></span>(org.osgi.framework.BundleContext&nbsp;context)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CloudioEndpointActivator--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CloudioEndpointActivator</h4>
<pre>public&nbsp;CloudioEndpointActivator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start-org.osgi.framework.BundleContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start(org.osgi.framework.BundleContext&nbsp;context)
           throws ch.hevs.cloudio.endpoint.InvalidUuidException,
                  ch.hevs.cloudio.endpoint.InvalidPropertyException,
                  ch.hevs.cloudio.endpoint.CloudioEndpointInitializationException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>start</code>&nbsp;in interface&nbsp;<code>org.osgi.framework.BundleActivator</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ch.hevs.cloudio.endpoint.InvalidUuidException</code></dd>
<dd><code>ch.hevs.cloudio.endpoint.InvalidPropertyException</code></dd>
<dd><code>ch.hevs.cloudio.endpoint.CloudioEndpointInitializationException</code></dd>
</dl>
</li>
</ul>
<a name="stop-org.osgi.framework.BundleContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop(org.osgi.framework.BundleContext&nbsp;context)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>stop</code>&nbsp;in interface&nbsp;<code>org.osgi.framework.BundleActivator</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../ch/hevs/cloudio/endpoint/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ch/hevs/cloudio/endpoint/CloudioEndpointActivator.html" target="_top">Frames</a></li>
<li><a href="CloudioEndpointActivator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
